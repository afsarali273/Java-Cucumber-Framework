<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Automation - Sands Automation Framework</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <button class="mobile-menu-btn" id="mobile-menu-btn">‚ò∞</button>
  
  <div class="container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>üöÄ Sands Framework</h1>
        <p>Enterprise Automation</p>
      </div>
      <nav>
        <ul class="nav-menu">
          <li class="nav-item"><a href="index.html" class="nav-link"><i class="fas fa-home"></i>Home</a></li>
          <li class="nav-item"><a href="getting-started.html" class="nav-link"><i class="fas fa-rocket"></i>Getting Started</a></li>
          <li class="nav-item"><a href="architecture.html" class="nav-link"><i class="fas fa-sitemap"></i>Architecture</a></li>
          <li class="nav-item"><a href="web-automation.html" class="nav-link"><i class="fas fa-globe"></i>Web Automation</a></li>
          <li class="nav-item"><a href="api-automation.html" class="nav-link"><i class="fas fa-code"></i>API Automation</a></li>
          <li class="nav-item"><a href="mobile-automation.html" class="nav-link"><i class="fas fa-mobile-alt"></i>Mobile Automation</a></li>
          <li class="nav-item"><a href="desktop-automation.html" class="nav-link"><i class="fas fa-desktop"></i>Desktop Automation</a></li>
          <li class="nav-item"><a href="remote-execution.html" class="nav-link"><i class="fas fa-cloud"></i>Remote Execution</a></li>
          <li class="nav-item"><a href="configuration.html" class="nav-link"><i class="fas fa-cog"></i>Configuration</a></li>
          <li class="nav-item"><a href="hooks.html" class="nav-link"><i class="fas fa-link"></i>Hooks</a></li>
          <li class="nav-item"><a href="reporting.html" class="nav-link"><i class="fas fa-chart-bar"></i>Reporting</a></li>
          <li class="nav-item"><a href="utilities.html" class="nav-link"><i class="fas fa-tools"></i>Utilities</a></li>
          <li class="nav-item"><a href="examples.html" class="nav-link"><i class="fas fa-code-branch"></i>Examples</a></li>
          <li class="nav-item"><a href="api-reference.html" class="nav-link"><i class="fas fa-book"></i>API Reference</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <header class="header">
        <h1>API Automation</h1>
        <div class="header-actions">
          <input type="text" id="search-box" class="search-box" placeholder="Search...">
          <button id="theme-toggle" class="theme-toggle">üåô</button>
        </div>
      </header>

      <section class="section">
        <h2>Overview</h2>
        <p>Sands Framework provides comprehensive REST and SOAP API testing capabilities using RestAssured with thread-safe, multi-service support.</p>
        
        <div class="alert alert-success">
          <strong>150+ Step Definitions Available!</strong> <a href="api-steps-reference.html" style="color: var(--primary); font-weight: bold;">View Complete API Steps Reference ‚Üí</a>
        </div>
        
        <div class="card-grid">
          <div class="card">
            <h3>REST API Testing</h3>
            <p>GET, POST, PUT, DELETE, PATCH with full request/response control</p>
            <span class="badge badge-primary">RestAssured</span>
          </div>
          <div class="card">
            <h3>SOAP API Testing</h3>
            <p>SOAP envelope creation and execution</p>
            <span class="badge badge-success">XML Support</span>
          </div>
          <div class="card">
            <h3>Multi-Service Support</h3>
            <p>Test multiple APIs with different base URLs</p>
            <span class="badge badge-info">Thread-Safe</span>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Configuration</h2>
        
        <h3>Single API Configuration</h3>
        <pre><code># config.properties
api.base.url=https://jsonplaceholder.typicode.com
api.timeout=30000
api.log.request=true
api.log.response=true</code></pre>

        <h3>Multi-Service Configuration</h3>
        <pre><code># config.properties
api.user.service.url=https://api.example.com/users
api.order.service.url=https://api.example.com/orders
api.payment.service.url=https://api.example.com/payments</code></pre>
      </section>

      <section class="section">
        <h2>APIClient Methods</h2>
        
        <h3>Initialization</h3>
        <pre><code>// Initialize with default base URL
APIClient.initializeAPIClient();

// Switch to different service
APIClient.withBaseUrl("user.service");
APIClient.withBaseUrl("order.service");

// Use custom URL
APIClient.withCustomBaseUrl("https://custom-api.com");</code></pre>

        <h3>GET Requests</h3>
        <pre><code>// Simple GET
Response response = APIClient.get("/users/1");

// GET with query parameters
Map&lt;String, String&gt; params = new HashMap&lt;&gt;();
params.put("page", "1");
params.put("limit", "10");
Response response = APIClient.get("/users", params);</code></pre>

        <h3>POST Requests</h3>
        <pre><code>// POST with JSON body
String requestBody = "{ \"name\": \"John\", \"email\": \"john@example.com\" }";
Response response = APIClient.post("/users", requestBody);

// POST with POJO
User user = new User("John", "john@example.com");
Response response = APIClient.post("/users", user);</code></pre>

        <h3>PUT Requests</h3>
        <pre><code>// Update resource
String updateBody = "{ \"name\": \"John Updated\" }";
Response response = APIClient.put("/users/1", updateBody);</code></pre>

        <h3>DELETE Requests</h3>
        <pre><code>// Delete resource
Response response = APIClient.delete("/users/1");</code></pre>

        <h3>Headers Management</h3>
        <pre><code>// Set single header
APIClient.setHeader("Authorization", "Bearer token123");

// Set multiple headers
Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();
headers.put("Authorization", "Bearer token123");
headers.put("X-Custom-Header", "value");
APIClient.setHeaders(headers);</code></pre>
      </section>

      <section class="section">
        <h2>Response Validation</h2>
        
        <h3>Status Code Validation</h3>
        <pre><code>Response response = APIClient.get("/users/1");

// Assert status code
AssertUtils.assertEquals(response.getStatusCode(), 200, "Status should be 200");

// Or use RestAssured assertions
response.then().statusCode(200);</code></pre>

        <h3>Response Body Validation</h3>
        <pre><code>// Get response body
String body = response.getBody().asString();

// Parse JSON
JsonPath jsonPath = response.jsonPath();
String name = jsonPath.getString("name");
String email = jsonPath.getString("email");

// Assertions
AssertUtils.assertEquals(name, "John", "Name should match");
AssertUtils.assertNotNull(email, "Email should not be null");</code></pre>

        <h3>JSON Schema Validation</h3>
        <pre><code>import static io.restassured.module.jsv.JsonSchemaValidator.matchesJsonSchemaInClasspath;

Response response = APIClient.get("/users/1");
response.then().assertThat()
    .body(matchesJsonSchemaInClasspath("schemas/user-schema.json"));</code></pre>

        <h3>Response Time Validation</h3>
        <pre><code>import static org.hamcrest.Matchers.lessThan;

Response response = APIClient.get("/users/1");
response.then().time(lessThan(2000L)); // Less than 2 seconds</code></pre>
      </section>

      <section class="section">
        <h2>Feature File Examples</h2>
        
        <h3>Basic API Test</h3>
        <pre><code>@API
Feature: User API Testing

  Scenario: Get user details
    Given API client is initialized
    When user sends GET request to "/users/1"
    Then response status code should be 200
    And response body should contain "name"
    And response body should contain "email"</code></pre>

        <h3>POST Request Test</h3>
        <pre><code>@API
Feature: Create User

  Scenario: Create new user
    Given API client is initialized
    When user sends POST request to "/users" with body:
      """
      {
        "name": "John Doe",
        "email": "john@example.com",
        "username": "johndoe"
      }
      """
    Then response status code should be 201
    And response body should contain "id"</code></pre>

        <h3>Multi-Service Test</h3>
        <pre><code>@API
Feature: Multi-Service API Testing

  Scenario: Test multiple services
    Given API client is initialized with "user.service"
    When user sends GET request to "/users/1"
    Then response status code should be 200
    
    When API client switches to "order.service"
    And user sends GET request to "/orders/1"
    Then response status code should be 200</code></pre>

        <h3>Data-Driven API Test</h3>
        <pre><code>@API
Feature: Data-Driven API Testing

  Scenario Outline: Get multiple users
    Given API client is initialized
    When user sends GET request to "/users/&lt;userId&gt;"
    Then response status code should be &lt;statusCode&gt;
    And response "name" should be "&lt;expectedName&gt;"
    
    Examples:
      | userId | statusCode | expectedName |
      | 1      | 200        | Leanne Graham |
      | 2      | 200        | Ervin Howell  |
      | 999    | 404        |               |</code></pre>
      </section>

      <section class="section">
        <h2>Step Definitions</h2>
        <pre><code>package com.automation.stepdefinitions;

import com.automation.core.api.APIClient;
import com.automation.core.assertions.AssertUtils;
import io.cucumber.java.en.*;
import io.restassured.response.Response;

public class APISteps {
    private Response response;
    
    @Given("API client is initialized")
    public void apiClientIsInitialized() {
        APIClient.initializeAPIClient();
    }
    
    @Given("API client is initialized with {string}")
    public void apiClientIsInitializedWith(String serviceName) {
        APIClient.withBaseUrl(serviceName);
    }
    
    @When("user sends GET request to {string}")
    public void userSendsGETRequest(String endpoint) {
        response = APIClient.get(endpoint);
    }
    
    @When("user sends POST request to {string} with body:")
    public void userSendsPOSTRequest(String endpoint, String body) {
        response = APIClient.post(endpoint, body);
    }
    
    @When("user sends PUT request to {string} with body:")
    public void userSendsPUTRequest(String endpoint, String body) {
        response = APIClient.put(endpoint, body);
    }
    
    @When("user sends DELETE request to {string}")
    public void userSendsDELETERequest(String endpoint) {
        response = APIClient.delete(endpoint);
    }
    
    @Then("response status code should be {int}")
    public void responseStatusCodeShouldBe(int expectedStatus) {
        AssertUtils.assertEquals(response.getStatusCode(), expectedStatus,
            "Status code should be " + expectedStatus);
    }
    
    @Then("response body should contain {string}")
    public void responseBodyShouldContain(String field) {
        String body = response.getBody().asString();
        AssertUtils.assertTrue(body.contains(field),
            "Response should contain: " + field);
    }
    
    @Then("response {string} should be {string}")
    public void responseFieldShouldBe(String field, String expectedValue) {
        String actualValue = response.jsonPath().getString(field);
        AssertUtils.assertEquals(actualValue, expectedValue,
            field + " should match");
    }
}</code></pre>
      </section>

      <section class="section">
        <h2>Authentication</h2>
        
        <h3>Bearer Token</h3>
        <pre><code>// Set bearer token
APIClient.setHeader("Authorization", "Bearer " + token);

// Or in feature file
Given user sets authorization header with token "abc123"</code></pre>

        <h3>Basic Auth</h3>
        <pre><code>import static io.restassured.RestAssured.given;

Response response = given()
    .auth().basic("username", "password")
    .get("/secure-endpoint");</code></pre>

        <h3>OAuth2</h3>
        <pre><code>// Get OAuth token first
Response tokenResponse = APIClient.post("/oauth/token", credentials);
String accessToken = tokenResponse.jsonPath().getString("access_token");

// Use token in subsequent requests
APIClient.setHeader("Authorization", "Bearer " + accessToken);</code></pre>
      </section>

      <section class="section">
        <h2>Advanced Scenarios</h2>
        
        <h3>File Upload</h3>
        <pre><code>import static io.restassured.RestAssured.given;

Response response = given()
    .multiPart("file", new File("path/to/file.pdf"))
    .post("/upload");</code></pre>

        <h3>File Download</h3>
        <pre><code>Response response = APIClient.get("/download/report.pdf");
byte[] fileBytes = response.asByteArray();

// Save to file
FileUtils.writeByteArrayToFile(new File("report.pdf"), fileBytes);</code></pre>

        <h3>Request/Response Logging</h3>
        <pre><code>import static io.restassured.RestAssured.given;

Response response = given()
    .log().all()  // Log request
    .get("/users/1")
    .then()
    .log().all()  // Log response
    .extract().response();</code></pre>

        <h3>Custom Timeout</h3>
        <pre><code>import static io.restassured.RestAssured.given;
import static io.restassured.config.HttpClientConfig.httpClientConfig;

Response response = given()
    .config(RestAssured.config()
        .httpClient(httpClientConfig()
            .setParam("http.connection.timeout", 5000)
            .setParam("http.socket.timeout", 5000)))
    .get("/users/1");</code></pre>
      </section>

      <section class="section">
        <h2>üìÅ External JSON/XML File Support</h2>
        <p>Load request bodies from external files with automatic variable replacement for reusable test data templates.</p>
        
        <div class="alert alert-success">
          <strong>‚úÖ New Feature:</strong> Support for external JSON/XML files with <code>${variableName}</code> variable replacement for both REST and SOAP APIs.
        </div>

        <h3>File Locations</h3>
        <p>Framework searches for files in this order:</p>
        <ol>
          <li><strong>Absolute path:</strong> <code>/absolute/path/to/file.json</code></li>
          <li><strong>testData folder:</strong> <code>src/test/resources/testData/</code></li>
          <li><strong>Classpath:</strong> Any resource on classpath</li>
        </ol>

        <h3>Recommended Structure</h3>
        <pre><code>src/test/resources/testData/
‚îú‚îÄ‚îÄ rest/
‚îÇ   ‚îú‚îÄ‚îÄ createUser.json
‚îÇ   ‚îú‚îÄ‚îÄ updateUser.json
‚îÇ   ‚îú‚îÄ‚îÄ createPost.json
‚îÇ   ‚îî‚îÄ‚îÄ createProduct.xml
‚îî‚îÄ‚îÄ soap/
    ‚îú‚îÄ‚îÄ getUserRequest.xml
    ‚îú‚îÄ‚îÄ createOrderRequest.xml
    ‚îî‚îÄ‚îÄ updateCustomerRequest.xml</code></pre>

        <h3>Step Definitions for External Files</h3>
        <table>
          <thead>
            <tr>
              <th>Step</th>
              <th>Description</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>user sets request body from file</code></td>
              <td>Load from any location</td>
              <td><code>When user sets request body from file "testData/rest/createUser.json"</code></td>
            </tr>
            <tr>
              <td><code>user sets request body from json file</code></td>
              <td>Auto-searches testData folder</td>
              <td><code>When user sets request body from json file "rest/createUser.json"</code></td>
            </tr>
            <tr>
              <td><code>user sets request body from xml file</code></td>
              <td>Load XML file</td>
              <td><code>When user sets request body from xml file "testData/rest/data.xml"</code></td>
            </tr>
            <tr>
              <td><code>user sets SOAP envelope from file</code></td>
              <td>Load SOAP envelope</td>
              <td><code>When user sets SOAP envelope from file "soap/getUserRequest.xml"</code></td>
            </tr>
            <tr>
              <td><code>user sends POST request from file</code></td>
              <td>Load and send in one step</td>
              <td><code>When user sends POST request from file "rest/createUser.json" to "/users"</code></td>
            </tr>
            <tr>
              <td><code>user sends PUT request from file</code></td>
              <td>Load and send PUT</td>
              <td><code>When user sends PUT request from file "rest/updateUser.json" to "/users/${userId}"</code></td>
            </tr>
            <tr>
              <td><code>user sends SOAP request from file</code></td>
              <td>Load and send SOAP</td>
              <td><code>When user sends SOAP request from file "soap/getUser.xml" to "/soap/service"</code></td>
            </tr>
          </tbody>
        </table>

        <h3>Variable Replacement</h3>
        <p>Use <code>${variableName}</code> syntax in JSON/XML files. Variables are automatically replaced from ScenarioContext.</p>

        <h4>Example: JSON File with Variables</h4>
        <p><strong>File:</strong> <code>testData/rest/createUser.json</code></p>
        <pre><code>{
  "name": "${userName}",
  "email": "${userEmail}",
  "age": ${userAge},
  "active": true,
  "address": {
    "street": "${street}",
    "city": "${city}",
    "zipCode": "${zipCode}"
  },
  "roles": ["user", "admin"]
}</code></pre>

        <p><strong>Feature File:</strong></p>
        <pre><code>Scenario: Create user from JSON file
  # Set variables
  When user saves json path "John Doe" as "userName"
  And user saves json path "john@example.com" as "userEmail"
  And user saves json path "30" as "userAge"
  And user saves json path "123 Main St" as "street"
  And user saves json path "New York" as "city"
  And user saves json path "10001" as "zipCode"
  
  # Send request from file (variables auto-replaced)
  When user sends POST request from file "rest/createUser.json" to "/users"
  
  Then response status code should be 201
  And json path "name" should be "John Doe"</code></pre>

        <h4>Example: SOAP XML with Variables</h4>
        <p><strong>File:</strong> <code>testData/soap/getUserRequest.xml</code></p>
        <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
                  xmlns:usr="http://example.com/user"&gt;
   &lt;soapenv:Header&gt;
      &lt;usr:AuthToken&gt;${authToken}&lt;/usr:AuthToken&gt;
   &lt;/soapenv:Header&gt;
   &lt;soapenv:Body&gt;
      &lt;usr:GetUserRequest&gt;
         &lt;usr:UserId&gt;${userId}&lt;/usr:UserId&gt;
         &lt;usr:IncludeDetails&gt;true&lt;/usr:IncludeDetails&gt;
      &lt;/usr:GetUserRequest&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;</code></pre>

        <p><strong>Feature File:</strong></p>
        <pre><code>Scenario: Get user via SOAP
  # Set variables
  When user saves json path "Bearer abc123" as "authToken"
  And user saves json path "12345" as "userId"
  
  # Send SOAP request from file
  When user sends SOAP request from file "soap/getUserRequest.xml" to "/soap/userService"
  
  Then response status code should be 200
  And SOAP response should not have fault</code></pre>

        <h3>Complete Workflow Example</h3>
        <pre><code>@API
Feature: User and Post Workflow with External Files

  Scenario: Complete workflow using file-based requests
    # Step 1: Get user data
    When user sends GET request to "/users/1"
    Then response status code should be 200
    When user saves json path "id" as "userId"
    And user saves json path "name" as "userName"
    
    # Step 2: Create post using file
    And user saves json path "Post by ${userName}" as "postTitle"
    And user saves json path "Content here" as "postBody"
    And user saves json path "test" as "tag1"
    And user saves json path "demo" as "tag2"
    And user saves json path "2025-01-21T10:00:00Z" as "timestamp"
    And user sends POST request from file "rest/createPost.json" to "/posts"
    
    Then response status code should be 201
    When user saves json path "id" as "postId"
    
    # Step 3: Update post using file
    And user saves json path "Updated Title" as "postTitle"
    And user sends PUT request from file "rest/createPost.json" to "/posts/${postId}"
    
    Then response status code should be 200
    And json path "title" should be "Updated Title"
    
    # Step 4: Delete post
    When user sends DELETE request to "/posts/${postId}"
    Then response status code should be 200</code></pre>

        <h3>Variable Replacement Features</h3>
        <table>
          <thead>
            <tr>
              <th>Feature</th>
              <th>Syntax</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Simple values</td>
              <td><code>${variableName}</code></td>
              <td><code>"name": "${userName}"</code></td>
            </tr>
            <tr>
              <td>Numbers</td>
              <td><code>${number}</code> (no quotes)</td>
              <td><code>"age": ${userAge}</code></td>
            </tr>
            <tr>
              <td>Nested objects</td>
              <td>Works in complex JSON</td>
              <td><code>"address": { "city": "${city}" }</code></td>
            </tr>
            <tr>
              <td>Arrays</td>
              <td>Variables in arrays</td>
              <td><code>"tags": ["${tag1}", "${tag2}"]</code></td>
            </tr>
            <tr>
              <td>Dynamic endpoints</td>
              <td>Variables in URLs</td>
              <td><code>"/users/${userId}"</code></td>
            </tr>
            <tr>
              <td>SOAP XML</td>
              <td>Full XML support</td>
              <td><code>&lt;UserId&gt;${userId}&lt;/UserId&gt;</code></td>
            </tr>
          </tbody>
        </table>

        <h3>Benefits</h3>
        <div class="card-grid">
          <div class="card">
            <h4>‚úÖ Reusability</h4>
            <p>One template, multiple tests with different data</p>
          </div>
          <div class="card">
            <h4>‚úÖ Maintainability</h4>
            <p>Update template once, affects all tests</p>
          </div>
          <div class="card">
            <h4>‚úÖ Readability</h4>
            <p>Cleaner feature files, data separated from logic</p>
          </div>
          <div class="card">
            <h4>‚úÖ Flexibility</h4>
            <p>Support for REST (JSON/XML) and SOAP</p>
          </div>
        </div>

        <div class="alert alert-info">
          <strong>üìö Complete Documentation:</strong> See <code>/documents/API_EXTERNAL_FILES.md</code> for detailed examples, troubleshooting, and best practices.
        </div>
      </section>

      <section class="section">
        <h2>üîç Query Parameters - Multiple Approaches</h2>
        <p>Framework supports multiple ways to set query parameters for maximum flexibility and reusability.</p>

        <h3>Approach 1: Individual Parameters</h3>
        <pre><code>When user sets query param "page" as "1"
And user sets query param "limit" as "10"
And user sends GET request to "/users" with query params</code></pre>

        <h3>Approach 2: DataTable (Recommended)</h3>
        <pre><code>When user sets query parameters:
  | page   | 1      |
  | limit  | 10     |
  | sort   | name   |
  | order  | asc    |
  | filter | active |
And user sends GET request to "/users" with query params</code></pre>

        <h3>Approach 3: Inline Format</h3>
        <pre><code>When user sets query parameters "page=1&limit=10&sort=name&order=asc"
And user sends GET request to "/users" with query params</code></pre>

        <h3>Approach 4: From Properties File</h3>
        <p><strong>File:</strong> <code>testData/queryParams/searchParams.properties</code></p>
        <pre><code># Search Query Parameters
page=1
limit=10
sort=name
order=asc
filter=active
search=${searchTerm}
category=${categoryName}</code></pre>

        <p><strong>Feature File:</strong></p>
        <pre><code>When user sets query parameters from file "testData/queryParams/searchParams.properties"
And user sends GET request to "/users" with query params</code></pre>

        <h3>Approach 5: From JSON File</h3>
        <p><strong>File:</strong> <code>testData/queryParams/userFilters.json</code></p>
        <pre><code>{
  "page": "1",
  "limit": "20",
  "status": "active",
  "role": "${userRole}",
  "department": "${departmentName}",
  "sortBy": "createdDate",
  "order": "desc"
}</code></pre>

        <p><strong>Feature File:</strong></p>
        <pre><code>When user saves json path "admin" as "userRole"
And user saves json path "Engineering" as "departmentName"
And user sets query parameters from json file "testData/queryParams/userFilters.json"
And user sends GET request to "/users" with query params</code></pre>

        <h3>All Available Step Definitions</h3>
        <table>
          <thead>
            <tr>
              <th>Step</th>
              <th>Description</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>user sets query param</code></td>
              <td>Set single parameter</td>
              <td><code>When user sets query param "page" as "1"</code></td>
            </tr>
            <tr>
              <td><code>user sets query parameters:</code></td>
              <td>Set multiple using DataTable</td>
              <td><code>When user sets query parameters:<br>| page | 1 |</code></td>
            </tr>
            <tr>
              <td><code>user sets query parameters "..."</code></td>
              <td>Set using inline format</td>
              <td><code>When user sets query parameters "page=1&limit=10"</code></td>
            </tr>
            <tr>
              <td><code>user sets query parameters from file</code></td>
              <td>Load from properties file</td>
              <td><code>When user sets query parameters from file "searchParams.properties"</code></td>
            </tr>
            <tr>
              <td><code>user sets query parameters from json file</code></td>
              <td>Load from JSON file</td>
              <td><code>When user sets query parameters from json file "filters.json"</code></td>
            </tr>
            <tr>
              <td><code>user sends GET request to "..." with query params</code></td>
              <td>Send GET with params</td>
              <td><code>When user sends GET request to "/users" with query params</code></td>
            </tr>
            <tr>
              <td><code>user sends GET request to "..." with query parameters:</code></td>
              <td>Set and send in one step</td>
              <td><code>When user sends GET request to "/users" with query parameters:<br>| page | 1 |</code></td>
            </tr>
            <tr>
              <td><code>user sends POST request to "..." with query parameters:</code></td>
              <td>POST with query params</td>
              <td><code>When user sends POST request to "/users" with query parameters:<br>| notify | true |</code></td>
            </tr>
            <tr>
              <td><code>user sends GET request to "..." with query parameters from file</code></td>
              <td>Load from file and send</td>
              <td><code>When user sends GET request to "/users" with query parameters from file "params.properties"</code></td>
            </tr>
            <tr>
              <td><code>user clears query parameters</code></td>
              <td>Clear all parameters</td>
              <td><code>When user clears query parameters</code></td>
            </tr>
          </tbody>
        </table>

        <h3>Variable Replacement in Query Parameters</h3>
        <p>All approaches support <code>${variableName}</code> variable replacement:</p>
        <pre><code>Scenario: Query params with variables
  # Save variables
  When user sends GET request to "/users/1"
  And user saves json path "id" as "userId"
  And user saves json path "name" as "userName"
  
  # Use in query params
  When user sets query parameters:
    | userId | ${userId}   |
    | name   | ${userName} |
  And user sends GET request to "/posts" with query params
  
  Then response status code should be 200</code></pre>

        <h3>Complete Examples</h3>

        <h4>Example 1: Search with Pagination</h4>
        <pre><code>Scenario: Search users with pagination
  When user sends GET request to "/users" with query parameters:
    | page     | 1      |
    | limit    | 20     |
    | search   | John   |
    | status   | active |
    | sortBy   | name   |
    | order    | asc    |
  Then response status code should be 200
  And json array "$" should have size 20</code></pre>

        <h4>Example 2: Reusable Query Params from File</h4>
        <pre><code>Scenario: Multiple searches using same params
  # Search 1
  When user saves json path "electronics" as "categoryName"
  And user sends GET request to "/products" with query parameters from file "searchParams.properties"
  Then response status code should be 200
  
  # Search 2
  When user saves json path "books" as "categoryName"
  And user sends GET request to "/products" with query parameters from file "searchParams.properties"
  Then response status code should be 200</code></pre>

        <h4>Example 3: Combining Multiple Sources</h4>
        <pre><code>Scenario: Complex query with multiple sources
  # Set base params
  When user sets query param "page" as "1"
  
  # Add from DataTable
  And user sets query parameters:
    | limit | 10    |
    | sort  | title |
  
  # Add from inline
  And user sets query parameters "order=asc&filter=active"
  
  # Send request
  And user sends GET request to "/posts" with query params
  Then response status code should be 200</code></pre>

        <h3>Comparison of Approaches</h3>
        <table>
          <thead>
            <tr>
              <th>Approach</th>
              <th>Best For</th>
              <th>Pros</th>
              <th>Cons</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Individual</strong></td>
              <td>1-2 parameters</td>
              <td>Simple, clear</td>
              <td>Verbose for many params</td>
            </tr>
            <tr>
              <td><strong>DataTable</strong></td>
              <td>3+ parameters</td>
              <td>‚úÖ Readable, organized, recommended</td>
              <td>Slightly more syntax</td>
            </tr>
            <tr>
              <td><strong>Inline</strong></td>
              <td>Quick tests, URL-like</td>
              <td>Compact, familiar format</td>
              <td>Less readable for many params</td>
            </tr>
            <tr>
              <td><strong>Properties File</strong></td>
              <td>Reusable param sets</td>
              <td>‚úÖ Reusable, maintainable</td>
              <td>Extra file to manage</td>
            </tr>
            <tr>
              <td><strong>JSON File</strong></td>
              <td>Complex param structures</td>
              <td>‚úÖ Structured, supports nesting</td>
              <td>Extra file to manage</td>
            </tr>
          </tbody>
        </table>

        <div class="alert alert-success">
          <strong>üí° Recommendation:</strong>
          <ul>
            <li>Use <strong>DataTable</strong> for most scenarios (3+ params)</li>
            <li>Use <strong>Files</strong> for reusable param sets across tests</li>
            <li>Use <strong>Individual</strong> for 1-2 params</li>
            <li>Use <strong>Inline</strong> for quick ad-hoc tests</li>
          </ul>
        </div>
      </section>

      <section class="section">
        <h2>SOAP API Testing</h2>
        
        <h3>SOAP Request</h3>
        <pre><code>import com.automation.core.api.SOAPClient;

String soapEnvelope = """
    &lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"&gt;
        &lt;soapenv:Header/&gt;
        &lt;soapenv:Body&gt;
            &lt;GetUser&gt;
                &lt;UserId&gt;1&lt;/UserId&gt;
            &lt;/GetUser&gt;
        &lt;/soapenv:Body&gt;
    &lt;/soapenv:Envelope&gt;
    """;

Response response = SOAPClient.sendSOAPRequest(
    "https://soap-api.example.com/service",
    soapEnvelope
);

// Validate SOAP response
String userId = response.xmlPath().getString("Envelope.Body.GetUserResponse.UserId");
AssertUtils.assertEquals(userId, "1", "User ID should match");</code></pre>
      </section>

      <section class="section">
        <h2>Hooks & Lifecycle</h2>
        <p>Framework provides comprehensive lifecycle management through Cucumber hooks.</p>
        
        <div class="alert alert-info">
          <strong>Complete Hooks Documentation:</strong> See <a href="hooks.html" style="color: var(--primary); font-weight: bold;">Hooks Page</a> for detailed information on @BeforeAll, @Before, @After, @AfterAll, screenshot capture, and custom hooks.
        </div>
      </section>

      <section class="section">
        <h2>üîí Encrypted Test Data (NEW)</h2>
        <p>Encrypt sensitive credentials to safely commit to GitHub without exposing secrets.</p>
        
        <div class="alert alert-success">
          <strong>‚úÖ New Feature:</strong> Base64 encoding for test data files with automatic decryption. Safe to commit to GitHub!
        </div>

        <h3>Quick Start</h3>
        <pre><code># Encrypt file (macOS/Linux)
./encrypt-testdata.sh testData/credentials.json

# Encrypt file (Windows)
encrypt-testdata.bat testData\credentials.json

# Use in tests - framework auto-decodes .encrypted files
When user sets request body from file "testData/credentials.json.encrypted"</code></pre>

        <h3>How It Works</h3>
        <ul>
          <li>‚úÖ Files are Base64 encoded (obfuscation, not encryption)</li>
          <li>‚úÖ Framework automatically detects <code>.encrypted</code> extension</li>
          <li>‚úÖ Decodes on-the-fly during test execution</li>
          <li>‚úÖ Supports variable replacement: <code>${variableName}</code></li>
          <li>‚úÖ Works with JSON, XML, SOAP, query params</li>
          <li>‚úÖ Safe to commit to GitHub (bypasses security scanners)</li>
        </ul>

        <h3>Example: Encrypted Credentials</h3>
        <pre><code>Scenario: Login with encrypted credentials
  # Original file contains: {"username": "admin", "password": "secret123"}
  When user sets request body from file "testData/secure/credentials.json.encrypted"
  And user sends POST request to "/auth/login"
  Then response status code should be 200
  And response "token" should not be null</code></pre>

        <h3>Supported Steps</h3>
        <pre><code>When user sets request body from file "file.json.encrypted"
When user sets request body from json file "file.json.encrypted"
When user sets request body from xml file "file.xml.encrypted"
When user sets SOAP envelope from file "file.xml.encrypted"
When user sends POST request to "/api" with body from file "file.json.encrypted"
When user sets query parameters from file "params.properties.encrypted"
When user sets query parameters from json file "params.json.encrypted"</code></pre>

        <div class="alert alert-warning">
          <strong>‚ö†Ô∏è Security Note:</strong> Base64 is encoding, not encryption. Use for GitHub safety only. For production, use environment variables or secret managers (AWS Secrets Manager, Azure Key Vault, etc.).
        </div>

        <p>üìñ <strong>Full Guide:</strong> See <code>ENCRYPTION_GUIDE.md</code> for complete documentation, examples, and best practices</p>
      </section>

      <section class="section">
        <h2>Best Practices</h2>

        <ul>
          <li>Use APIClient for thread-safe API testing</li>
          <li>Validate status codes, response body, and headers</li>
          <li>Use JSON schema validation for contract testing</li>
          <li>Store API responses in ScenarioContext for reuse</li>
          <li>Use data-driven tests for multiple scenarios</li>
          <li>Log requests and responses for debugging</li>
          <li>Set appropriate timeouts</li>
          <li>Use environment-specific base URLs</li>
          <li>Handle authentication tokens properly</li>
          <li>Validate response time for performance testing</li>
        </ul>
      </section>

      <section class="section">
        <h2>Complete Example</h2>
        <pre><code>@API @Smoke
Feature: Complete API Testing Example

  Background:
    Given API client is initialized
    And user sets authorization header with token "test-token-123"

  Scenario: Create, Read, Update, Delete User
    # Create
    When user sends POST request to "/users" with body:
      """
      {
        "name": "Test User",
        "email": "test@example.com",
        "username": "testuser"
      }
      """
    Then response status code should be 201
    And response body should contain "id"
    And user saves "id" from response
    
    # Read
    When user sends GET request to "/users/{id}"
    Then response status code should be 200
    And response "name" should be "Test User"
    
    # Update
    When user sends PUT request to "/users/{id}" with body:
      """
      {
        "name": "Updated User"
      }
      """
    Then response status code should be 200
    And response "name" should be "Updated User"
    
    # Delete
    When user sends DELETE request to "/users/{id}"
    Then response status code should be 204</code></pre>
      </section>

      <footer class="footer">
        <p>&copy; 2025 Sands Automation Framework. Created by <a href="#">Afsar Ali</a></p>
      </footer>
    </main>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
